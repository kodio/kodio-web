---
import Link from '@/components/Link.astro';
import Logo from '@/components/Logo.astro';
import Menu from '@/components/Menu.astro';
import type { Color } from '@/lib/sanity';
import { isDarkColor } from '@/utils/colors';

export type Props = {
  color: Color;
};

const { color } = Astro.props;

const backgroundColor = `var(--${color})`;
const textColor = isDarkColor(color) ? 'var(--white)' : 'var(--color-text)';
---

<header>
  <Link href="/">
    <Logo />
  </Link>
  <Menu />
</header>

<style lang="scss" define:vars={{ backgroundColor, textColor }}>
  header {
    @include header(var(--textColor), var(--backgroundColor));
  }
</style>
