---
import type { Mark, Props as PortableTextProps } from 'astro-portabletext/types';
import type { BlockContentExternalLink } from '@lib/sanity';

export type Props = PortableTextProps<Mark<BlockContentExternalLink | undefined>>;

const { node } = Astro.props;

const href = node.markDef?.href ?? '';
const target = node.markDef?.blank ? '_blank' : undefined;
const rel = node.markDef?.blank ? 'noreferrer' : undefined;
---

<a href={href} target={target} rel={rel}><slot /></a>

<style lang="scss">
  a {
    @include link;
  }
</style>
