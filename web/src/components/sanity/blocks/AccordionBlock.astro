---
import Accordion from '@components/Accordion.astro';
import AccordionItem from '@components/AccordionItem.astro';
import BlockContent from '@components/sanity/BlockContent.astro';
import type { Props as PortableTextProps } from 'astro-portabletext/types';
import type { Accordion as AccordionType } from '@lib/sanity';

export type Props = PortableTextProps<AccordionType>;

const { node } = Astro.props;
---

<Accordion class:list={[Astro.props.class]}>
  {
    node.accordionItems?.map((item) => (
      <AccordionItem title={item.title ?? ''}>
        <BlockContent value={item.body} />
      </AccordionItem>
    ))
  }
</Accordion>
