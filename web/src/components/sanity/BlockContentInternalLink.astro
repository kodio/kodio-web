---
import type { Mark, Props as PortableTextProps } from 'astro-portabletext/types';

import Link from '@/components/Link.astro';
import type { BlockContentInternalLink } from '@/lib/sanity';

export type Props = PortableTextProps<Mark<BlockContentInternalLink | undefined>>;

const { node } = Astro.props;

const href = `/${node.markDef?.slug.current ?? ''}`;
---

<Link class="link" href={href}><slot /></Link>

<style lang="scss">
  .link {
    @include link;
  }
</style>
